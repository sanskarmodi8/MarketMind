schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/MarketMind/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: bf8954f8db581a9918fce733624395f6
      size: 1183
    - path: src/MarketMind/components/data_ingestion.py
      hash: md5
      md5: 34c1a34c1f87a0a33751209b1a9145db
      size: 1692
    - path: src/MarketMind/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 2a7fddbe54c08421172e72c77e48af3a
      size: 868
    params:
      params.yaml:
        data_ingestion.asset: BTC-USD
        data_ingestion.end_date: '2025-01-01'
        data_ingestion.start_date: '2017-01-01'
    outs:
    - path: artifacts/data_ingestion/data.csv
      hash: md5
      md5: 32366198ba1d37ea6bf7da655895a5c1
      size: 242966
  data_preprocessing:
    cmd: python src/MarketMind/pipeline/stage_02_data_preprocessing.py
    deps:
    - path: artifacts/data_ingestion/data.csv
      hash: md5
      md5: 32366198ba1d37ea6bf7da655895a5c1
      size: 242966
    - path: config/config.yaml
      hash: md5
      md5: bf8954f8db581a9918fce733624395f6
      size: 1183
    - path: src/MarketMind/components/data_preprocessing.py
      hash: md5
      md5: dc45651a716542ae20c1318c6a8a9965
      size: 3442
    - path: src/MarketMind/pipeline/stage_02_data_preprocessing.py
      hash: md5
      md5: 9e2b3471b3d0ab159b2efe22db2945c7
      size: 812
    outs:
    - path: artifacts/data_preprocessing/preprocessed_data/
      hash: md5
      md5: e79ec5af4860dfccac5c240fc0640630.dir
      size: 441722
      nfiles: 2
  model_training:
    cmd: python src/MarketMind/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_preprocessing/preprocessed_data/train.csv
      hash: md5
      md5: 7e4f3922a1bf9cf19b37b585c68437bf
      size: 355533
    - path: config/config.yaml
      hash: md5
      md5: bf8954f8db581a9918fce733624395f6
      size: 1183
    - path: src/MarketMind/components/model_training.py
      hash: md5
      md5: ee7b9351164ec1b56bbf6e589fd86afc
      size: 8665
    - path: src/MarketMind/pipeline/stage_03_model_training.py
      hash: md5
      md5: b78680009e44da3107fdd109728f25c5
      size: 812
    params:
      params.yaml:
        model_training.batch_size: 128
        model_training.ent_coef: 0.05
        model_training.eval_freq: 5000
        model_training.gamma: 0.995
        model_training.initial_balance: 1.0
        model_training.initial_lr: 0.0003
        model_training.n_epochs: 20
        model_training.n_steps: 4096
        model_training.net_arch:
        - 256
        - 256
        - 128
        model_training.reward_scaling: 1.0
        model_training.total_timesteps: 20000000
        model_training.transaction_cost: 0.001
        model_training.turnover_penalty: 0.001
        model_training.window_size: 100
    outs:
    - path: artifacts/model_training/model/
      hash: md5
      md5: b10eda2be1eb0cd5a5a83a5d3cb8c292.dir
      size: 7109469
      nfiles: 2
    - path: artifacts/model_training/tb_logs/
      hash: md5
      md5: e1582a0bf1ddfe4b69aecb12832e2ab7.dir
      size: 3298595
      nfiles: 1
    - path: artifacts/model_training/vec_normalize.pkl
      hash: md5
      md5: f9c11cbffd8ac9a5d88634b5720f3065
      size: 22362
  model_evaluation:
    cmd: python src/MarketMind/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_preprocessing/preprocessed_data/test.csv
      hash: md5
      md5: 21cd966f6c8af3557d526e3e3fe2f14f
      size: 86189
    - path: artifacts/model_training/model/
      hash: md5
      md5: b10eda2be1eb0cd5a5a83a5d3cb8c292.dir
      size: 7109469
      nfiles: 2
    - path: artifacts/model_training/vec_normalize.pkl
      hash: md5
      md5: f9c11cbffd8ac9a5d88634b5720f3065
      size: 22362
    - path: config/config.yaml
      hash: md5
      md5: bf8954f8db581a9918fce733624395f6
      size: 1183
    - path: src/MarketMind/components/model_evaluation.py
      hash: md5
      md5: fce0c80e003ad11491e8dbb34d6634e1
      size: 16915
    - path: src/MarketMind/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 1a6929fa72c62f85a448093d03592b27
      size: 980
    params:
      params.yaml:
        model_training.initial_balance: 1.0
        model_training.reward_scaling: 1.0
        model_training.transaction_cost: 0.001
        model_training.turnover_penalty: 0.001
        model_training.window_size: 100
    outs:
    - path: artifacts/model_evaluation/plots/
      hash: md5
      md5: 24558bf9c76b05f5951c6b5368bb13f0.dir
      size: 228340
      nfiles: 4
    - path: artifacts/model_evaluation/report/
      hash: md5
      md5: 1fbf4e0081ed8b930539ae2ab03bf717.dir
      size: 328
      nfiles: 2
